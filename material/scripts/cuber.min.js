(function(){
var ERNO={};
(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return d}a.prototype=window.Event.prototype;window.CustomEvent=a;Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e&&
a?this:a,c.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f})})();ERNO.extend=function(a,b){if(Object.keys)for(var c=Object.keys(b),d=0,e=c.length;d<e;d++){var f="c[d];Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(b,f))}else" for(f="" in="" c="{}.hasOwnProperty,b)c.call(b,f)&&(a[f]=b[f]);return" a};three.css3dobject="function(a){THREE.Object3D.call(this);this.element=a;this.done=!1;this.element.style.position=" absolute";this.addeventlistener("removed",function(a){if(null!="=this.element.parentNode){this.element.parentNode.removeChild(this.element);for(var"" three.css3drenderer="function(){var" a,b,c,d,e="new" three.matrix4,f="document.createElement(" div");f.style.overflow="hidden" ;f.style.webkittransformstyle="preserve-3d" ;f.style.moztransformstyle="preserve-3d" ;f.style.otransformstyle="preserve-3d" ;f.style.transformstyle="preserve-3d" ;this.domelement="f;var"" h="document.createElement(" div");h.style.webkittransformstyle="preserve-3d" ;h.style.moztransformstyle="preserve-3d" ;h.style.otransformstyle="preserve-3d" ;h.style.transformstyle="preserve-3d" ;f.appendchild(h);"="" this.setclearcolor="function(){};this.setSize=function(e,g){a=e;b=g;c=a/2;d=b/2;f.style.width=e+" px";f.style.height="g+"px";h.style.width=e+"px";h.style.height=g+"px"};var"" g="function(a){return" 1e-6="">Math.abs(a)?0:a},m=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Euler,e=new THREE.Quaternion;c._quaternion=e;e._euler=c;return function(d){d.decompose(a,e,b);return"translate3d(-50%,-50%,0) translate3d("+g(a.x)+"px, "+g(a.y)+"px, "+g(a.z)+"px) rotateX("+g(c.x)+"rad) rotateY("+g(c.y)+
"rad) rotateZ("+g(c.z)+"rad) scale3d("+g(b.x)+", "+g(-b.y)+", "+g(b.z)+")"}}(),s=function(a,b){if(a instanceof THREE.CSS3DObject){var c;a instanceof THREE.CSS3DSprite?(e.copy(b.matrixWorldInverse),e.transpose(),e.copyPosition(a.matrixWorld),e.scale(a.scale),e.elements[3]=0,e.elements[7]=0,e.elements[11]=0,e.elements[15]=1,c=m(e)):c=m(a.matrixWorld);var d=a.element;d.style.WebkitTransformStyle="preserve-3d";d.style.MozTransformStyle="preserve-3d";d.style.oTransformStyle="preserve-3d";d.style.transformStyle=
"preserve-3d";d.style.WebkitTransform=c;d.style.MozTransform=c;d.style.oTransform=c;d.style.transform=c;d.parentNode!==h&&h.appendChild(d)}c=0;for(d=a.children.length;c<d;c++)s(a.children[c],b)};this.render=function(a,e){var 0="==e.parent&&e.updateMatrixWorld();e.matrixWorldInverse.getInverse(e.matrixWorld);" k="0.5/Math.tan(THREE.Math.degToRad(0.5*e.fov))*b;f.style.WebkitPerspective=k+" px";f.style.mozperspective="k+"px";f.style.oPerspective=k+"px";f.style.perspective=k+"px";a.updateMatrixWorld();void"" var="" +k+"px)",l;l="e.matrixWorldInverse.elements;l=" matrix3d("+g(l[0])+","+g(-l[1])+","+g(l[2])+","+g(l[3])+","+g(l[4])+","+g(-l[5])+","+g(l[6])+","+g(l[7])+","+g(l[8])+","+g(-l[9])+","+g(l[10])+","+g(l[11])+","+g(l[12])+","+g(-l[13])+","+g(l[14])+","+g(l[15])+")";k="k+l+""" translate3d("+c+"px,"+d+"px,="" 0)";h.style.webkittransform="k;h.style.MozTransform=k;h.style.oTransform=k;h.style.transform=k;s(a,e)}};var" _="{isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},cascade:function(){var" a,b="Array.prototype.slice.call(arguments);for(a=0;a<b.length;a++)if(void" 0!="=b[a])return" b[a];return!1},hextorgb:function(a){a="a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,d,e){return" c+c+d+d+e+e});return(a="/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}};ERNO.extend(Number.prototype,{absolute:function(){return" math.abs(this)},add:function(){var="" a="this;Array.prototype.slice.call(arguments).forEach(function(b){a+=b});return" a},arccosine:function(){return="" math.acos(this)},arcsine:function(){return="" math.asin(this)},arctangent:function(){return="" math.atan(this)},constrain:function(a,b){var="" c,d,e="this;b=b||0;c=Math.max(a,b);d=Math.min(a,b);e=Math.min(e,c);return" e="Math.max(e,d)},cosine:function(){return" math.cos(this)},degreestodirection:function(){var="" .split("="" ");return="" a[this.scale(0,360,0,a.length-1).round()]},degreestoradians:function(){return="" this*math.pi="" 180},divide:function(){var="" a},isbetween:function(a,b){var="" c="Math.min(a,b),d=Math.max(a,b);return" c<="this&&this<=d},lerp:function(a,b){return" a+(b-a)*this},log:function(a){return="" math.log(this)="" (void="" math.ln10},maximum:function(a){return="" math.max(this,a)},minimum:function(a){return="" math.min(this,a)},modulo:function(a){return(this%a+a)%a},multiply:function(){var="" a},normalize:function(a,b){return="" math.pow(this,a)},radianstodegrees:function(){return="" 180*this="" math.pi},rand:function(a){var="" b;return="" void="" (a-b))):math.floor(math.random()*this)},random:function(a){var="" this%a},round:function(a){var="" b;a="a||0;b=this*Math.pow(10,a);b=Math.round(b);return" b="" =math.pow(10,a)},rounddown:function(){return="" math.floor(this)},roundup:function(){return="" math.ceil(this)},scale:function(a,b,c,d){a="this.normalize(a,b);return" math.sin(this)},subtract:function(){var="" a},tangent:function(){return="" math.tan(this)},toarray:function(){return[this.valueof()]},tonumber:function(){return="" this.valueof()},topaddedstring:function(a){return("0000000000000"+string(this)).slice(-a)},tosignedstring:function(){var="" +this;0<="this&&(a=" +"+a);return"="" a},tostring:function(){return""+this}});erno.extend(string.prototype,{capitalize:function(){return="" this.charat(0).touppercase()+this.slice(1)},invert:function(){var="" ,b;for(b="0;b<this.length;b++)a=this.charAt(b)===this.charAt(b).toUpperCase()?a+this.charAt(b).toLowerCase():a+this.charAt(b).toUpperCase();return" a},justifycenter:function(a){var="" "+c;else="">b&&(c=c.substr(-1*b));if(0<a)for(;a--;)c+=" 0="" ";else="">a&&(c=c.substr(0,c.length+
a));return c},justifyLeft:function(a){for(var b=this;b.length<a;)b+=" ";return="" b},justifyright:function(a){for(var="" b="this;b.length<a;)b=" "="" "+b;return="" b},multiply:function(a){var="" b,c="" ;a="_.cascade(a,2);for(b=0;b<a;b++)c+=this;return" c},reverse:function(){var="" a,b="" ;for(a="0;a<this.length;a++)b=this[a]+b;return" b},size:function(){return="" this.length},toentities:function(){var="" b},tocamelcase:function(){var="" a="this.split(/\W+|_+/),b=" a[0],c;for(c="1;c<a.length;c++)b+=a[c].capitalize();return" b},directiontodegrees:function(){var="" .split("="" "),b="a.indexOf(this.toUpperCase());return" 0<="b?b.scale(0,a.length-1,0,360):Number.NaN},toArray:function(){return[this]},toNumber:function(){return" parsefloat(this)},tostring:function(){return="" this},tounderscorecase:function(){var="" a.tolowercase()},="" tounicode:function(){var="" a,b,c="">b.length;)b="0"+b;c+="\\u"+b}return c}});ERNO.extend(Array.prototype,{distanceTo:function(a){var b,c=0;0<arguments.length&&(a=array.prototype.slice.call(arguments));if(this.length===a.length){for(b=0;b<this.length;b++)c+=math.pow(a[b]-this[b],2);return math.pow(c,0.5)}return="" null},first:function(){return="" this[0]},last:function(){return="" this[this.length-1]},maximum:function(){return="" math.max.apply(null,this)},middle:function(){return="" this[math.round((this.length-1)="" 2)]},minimum:function(){return="" math.min.apply(null,this)},rand:function(){return="" this[math.floor(math.random()*="" this.length)]},random:function(){return="" this[math.floor(math.random()*this.length)]},shuffle:function(){var="" a="this.length,b,c,d;if(0==a)return!1;for(;--a;)b=Math.floor(Math.random()*(a+1)),c=this[a],d=this[b],this[a]=d,this[b]=c;return" this},toarray:function(){return="" this},tohtml:function(){var="" a,b="<ul>" ;for(a="0;a<this.length;a++)b=this[a]instanceof" array?b+this[a].tohtml():b+("<li="">"+this[a]+"");return b+""},toText:function(a){var b,c,d;a=_.cascade(a,0);c="\n"+"\t".multiply(a);d="";for(b=
0;b<this.length;b++)d=this[b]instanceof 0="==b&&(b=this.neighbors[0]);if(b===this||b===this.opposite)return" array?d+(c+this[b].totext(a+1)):d+(c+this[b]);return="" d}});erno.color="function(a,b,c,d,e){this.name=a;this.initial=b;this.hex=c;this.styleF=d;this.styleB=e};var" w,o,b,r,g,y,colourless;w="ERNO.WHITE=new" erno.color("white","w","#fff","font-weight:="" bold;="" color:="" #888","background-color:="" #f3f3f3;="" rgba(="" 0,="" 0.5="" )");o="ERNO.ORANGE=new" erno.color("orange","o","#f60","font-weight:="" #f60","background-color:="" #f60;="" 255,="" 0.9="" )");b="ERNO.BLUE=new" erno.color("blue","b","#00d","font-weight:="" #00d","background-color:="" #00d;="" )");="" r="ERNO.RED=new" erno.color("red","r","#f00","font-weight:="" #f00","background-color:="" #f00;="" )");g="ERNO.GREEN=new" erno.color("green","g","#0a0","font-weight:="" #0a0","background-color:="" #0a0;="" )");y="ERNO.YELLOW=new" erno.color("yellow","y","#fe0","font-weight:="" #ed0","background-color:="" #fe0;="" )");erno.colorless="new" erno.color("na","x","#ddd","color:="" #eee","color:="" #ddd");erno.direction="function(a,b,c){this.id=a;this.name=b.toLowerCase();this.normal=c;this.initial=b.substr(0,1).toUpperCase();this.neighbors=[];this.opposite=null};ERNO.Direction.prototype.setRelationships=function(a,b,c,d,e){this.neighbors=[a,b,c,d];this.opposite=e};ERNO.Direction.getNameById=function(a){return" front"="" up="" right="" down="" left="" back".split("="" ")[a]};erno.direction.getidbyname="function(a){return{front:0,up:1,right:2,down:3,left:4,back:5}[a]};" erno.direction.getdirectionbyid="function(a){return[ERNO.Direction.FRONT,ERNO.Direction.UP,ERNO.Direction.RIGHT,ERNO.Direction.DOWN,ERNO.Direction.LEFT,ERNO.Direction.BACK][a]};ERNO.Direction.getDirectionByInitial=function(a){return{F:ERNO.Direction.FRONT,U:ERNO.Direction.UP,R:ERNO.Direction.RIGHT,D:ERNO.Direction.DOWN,L:ERNO.Direction.LEFT,B:ERNO.Direction.BACK}[a.toUpperCase()]};" erno.direction.getdirectionbyname="function(a){return{front:ERNO.Direction.FRONT,up:ERNO.Direction.UP,right:ERNO.Direction.RIGHT,down:ERNO.Direction.DOWN,left:ERNO.Direction.LEFT,back:ERNO.Direction.BACK}[a.toLowerCase()]};" erno.direction.getdirectionbynormal="function(){var" a="new" three.vector3;return="" function(b){a.x="Math.round(b.x);a.y=Math.round(b.y);a.z=Math.round(b.z);return" a.equals(erno.direction.front.normal)?erno.direction.front:a.equals(erno.direction.back.normal)?erno.direction.back:a.equals(erno.direction.up.normal)?erno.direction.up:a.equals(erno.direction.down.normal)?erno.direction.down:a.equals(erno.direction.left.normal)?erno.direction.left:a.equals(erno.direction.right.normal)?erno.direction.right:null}}();="" erno.direction.prototype.getrotation="function(a,b,c){void" null;c="void" d="0;5">d&&this.neighbors[d]!==b;d++);return this.neighbors[d.add(c*a).modulo(4)]};ERNO.Direction.prototype.getClockwise=function(a,b){return this.getRotation(1,a,b)};ERNO.Direction.prototype.getAnticlockwise=function(a,b){return this.getRotation(-1,a,b)};
ERNO.Direction.prototype.getDirection=function(a,b){return this.getRotation(1,b,a.id-1)};ERNO.Direction.prototype.getUp=function(a){return this.getDirection(ERNO.Direction.UP,a)};ERNO.Direction.prototype.getRight=function(a){return this.getDirection(ERNO.Direction.RIGHT,a)};ERNO.Direction.prototype.getDown=function(a){return this.getDirection(ERNO.Direction.DOWN,a)};ERNO.Direction.prototype.getLeft=function(a){return this.getDirection(ERNO.Direction.LEFT,a)};ERNO.Direction.prototype.getOpposite=function(){return this.opposite};
ERNO.Direction.FRONT=new ERNO.Direction(0,"front",new THREE.Vector3(0,0,1));ERNO.Direction.UP=new ERNO.Direction(1,"up",new THREE.Vector3(0,1,0));ERNO.Direction.RIGHT=new ERNO.Direction(2,"right",new THREE.Vector3(1,0,0));ERNO.Direction.DOWN=new ERNO.Direction(3,"down",new THREE.Vector3(0,-1,0));ERNO.Direction.LEFT=new ERNO.Direction(4,"left",new THREE.Vector3(-1,0,0));ERNO.Direction.BACK=new ERNO.Direction(5,"back",new THREE.Vector3(0,0,-1));
ERNO.Direction.FRONT.setRelationships(ERNO.Direction.UP,ERNO.Direction.RIGHT,ERNO.Direction.DOWN,ERNO.Direction.LEFT,ERNO.Direction.BACK);ERNO.Direction.UP.setRelationships(ERNO.Direction.BACK,ERNO.Direction.RIGHT,ERNO.Direction.FRONT,ERNO.Direction.LEFT,ERNO.Direction.DOWN);ERNO.Direction.RIGHT.setRelationships(ERNO.Direction.UP,ERNO.Direction.BACK,ERNO.Direction.DOWN,ERNO.Direction.FRONT,ERNO.Direction.LEFT);
ERNO.Direction.DOWN.setRelationships(ERNO.Direction.FRONT,ERNO.Direction.RIGHT,ERNO.Direction.BACK,ERNO.Direction.LEFT,ERNO.Direction.UP);ERNO.Direction.LEFT.setRelationships(ERNO.Direction.UP,ERNO.Direction.FRONT,ERNO.Direction.DOWN,ERNO.Direction.BACK,ERNO.Direction.RIGHT);ERNO.Direction.BACK.setRelationships(ERNO.Direction.UP,ERNO.Direction.LEFT,ERNO.Direction.DOWN,ERNO.Direction.RIGHT,ERNO.Direction.FRONT);ERNO.Queue=function(a){void 0!==a&&a instanceof Function&&(this.validate=a);this.history=[];this.useHistory=!0;this.future=[];this.isReady=!0;this.isLooping=!1};ERNO.Queue.prototype.add=function(){var a=Array.prototype.slice.call(arguments);void 0!==this.validate&&this.validate instanceof Function&&(a=this.validate(a));a instanceof Array&&a.forEach(function(a){this.future.push(a)}.bind(this));return this.future};
ERNO.Queue.prototype.remove=function(){var a=Array.prototype.slice.call(arguments);a instanceof Array&&a.forEach(function(a){this.future=this.future.filter(function(c){return c!=a})}.bind(this));return this.future};ERNO.Queue.prototype.purge=function(){var a=Array.prototype.slice.call(arguments);a instanceof Array&&a.forEach(function(a){this.history=this.history.filter(function(c){return c!=a})}.bind(this));return this.history};
ERNO.Queue.prototype.empty=function(a){this.future=[];a&&(this.history=[])};ERNO.Queue.prototype.do=function(){if(this.future.length){var a=this.future.shift();this.useHistory&&this.history.push(a);return a}this.isLooping&&(this.future=this.history.slice(),this.history=[])};ERNO.Queue.prototype.undo=function(){if(this.history.length){var a=this.history.pop();this.future.unshift(a);return a}};ERNO.Queue.prototype.redo=function(){return this.do()};ERNO.Twist=function(a,b){a&&this.set(a,b)};
ERNO.Twist.prototype.set=function(a,b){var c={X:"Cube on X",L:"Left face",M:"Middle slice",R:"Right face",Y:"Cube on Y",U:"Up face",E:"Equator slice",D:"Down face",Z:"Cube on Z",F:"Front face",S:"Standing slice",B:"Back face"}[a.toUpperCase()];if(void 0!==c){void 0!=b&&0>b&&(a=a.invert(),b=b.absolute());var d=0,e="unwise";a===a.toUpperCase()?(d=1,e="clockwise"):a===a.toLowerCase()&&(d=-1,e="anticlockwise");this.command=a;this.group=c;this.degrees=b;this.vector=d;this.wise=e;this.isShuffle=!1;this.getInverse=
function(){return new ERNO.Twist(a.invert(),b)}}else return!1};ERNO.Twist.prototype.equals=function(a){return this.command===a.command&&this.degrees===a.degrees};ERNO.Twist.prototype.copy=function(a){this.command=a.command;this.group=a.group;this.degrees=a.degrees;this.vector=a.vector;this.wise=a.wise;this.isShuffle=a.isShuffle;return this};
ERNO.Twist.validate=function(){var a=Array.prototype.slice.call(arguments),b,c,d,e,f,h;for(c=0;c<a.length;c++)if(b=a[c],d=c+1<a.length?a[c+1]:void 0="==c&&(c=[W,O,,,G]);this.faces=[];for(b=0;6" 0,!(b="" instanceof="" erno.twist))if("string"="==typeof" b)if(1="==b.length)a[c]=" number"="==typeof"" d?new="" erno.twist(b,d):new="" erno.twist(b);else{if(1<b.length){d="/(-?\d+|[XLMRYUEDZFSB])/gi;b=b.match(d);for(f=0;f<b.length;f++)e=b[f],_.isNumeric(e)?b[f]=+e:(d=b.slice(0,f),h=b.slice(f+1),e=e.split(" "),b="d.concat(e,h));d=a.slice(0,c);h=a.slice(c+1);a=d.concat(b,h);"" c--}}else="" b="" erno.direction?a[c]="b.initial:b" array?(d="a.slice(0,c),h=a.slice(c+1),a=d.concat(b,h)):a.splice(c,1),c--;return" a};erno.cubelet="function(a,b,c){THREE.Object3D.call(this);this.cube=a;this.id=b||0;this.setAddress(this.id);this.size=a.cubeletSize||140;a=this.addressX*(this.size+0.1);b=this.addressY*(this.size+0.1);var" d="this.addressZ*(this.size+0.1);this.position.set(a,b,d);this.matrixSlice=(new" three.matrix4).maketranslation(a,b,d);this.updatematrix();this.cube.object3d.add(this);a="0;void">b;b++)d=c[b]||ERNO.COLORLESS,this.faces[b]={},this.faces[b].id=b,this.faces[b].color=
d,this.faces[b].normal=ERNO.Direction.getNameById(b),this.faces[b].isIntrovert=d===ERNO.COLORLESS,d!==ERNO.COLORLESS&&a++;this.type=["core","center","edge","corner"][a];this.front=this.faces[0];this.up=this.faces[1];this.right=this.faces[2];this.down=this.faces[3];this.left=this.faces[4];this.back=this.faces[5];this.colors=(this.faces[0].color?this.faces[0].color.initial:"-")+(this.faces[1].color?this.faces[1].color.initial:"-")+(this.faces[2].color?this.faces[2].color.initial:"-")+(this.faces[3].color?
this.faces[3].color.initial:"-")+(this.faces[4].color?this.faces[4].color.initial:"-")+(this.faces[5].color?this.faces[5].color.initial:"-");this.isStickerCubelet=this.front.color&&"white"===this.front.color.name&&"center"===this.type;this.isTweening=!0;this.isTweening=this.isEngagedZ=this.isEngagedY=this.isEngagedX=!1;this.opacity=1;this.radius=0};ERNO.Cubelet.prototype=Object.create(THREE.Object3D.prototype);
ERNO.extend(ERNO.Cubelet.prototype,{setAddress:function(a){this.address=a||0;this.addressX=a.modulo(3).subtract(1);this.addressY=-1*a.modulo(9).divide(3).roundDown().subtract(1);this.addressZ=-1*a.divide(9).roundDown().subtract(1)},hasColor:function(a){var b,c,d=_.hexToRgb(a.hex);for(a=0;6>a;a++)if(c=_.hexToRgb(this.faces[a].color.hex),c.r===d.r&&c.g===d.g&&c.b===d.b){b=a;break}return void 0!==b?"front up right down left back".split(" ")[b]:!1},hasColors:function(){var a=this,b=!0;Array.prototype.slice.call(arguments).forEach(function(c){b=
b&&!!a.hasColor(c)});return b},getRadius:function(){return this.radius},setRadius:function(a,b){if(!1===this.isTweening&&(a=a||0,void 0===this.radius&&(this.radius=0),this.radius!==a)){this.isTweening=!0;var c=(this.radius-a).absolute(),d={radius:this.radius};(new TWEEN.Tween(d)).to({radius:a},c).easing(TWEEN.Easing.Quartic.Out).onUpdate(function(){this.position.set(this.addressX.multiply(this.size+d.radius)+0.2,this.addressY.multiply(this.size+d.radius)+0.2,this.addressZ.multiply(this.size+d.radius)+
0.2);this.updateMatrix();this.matrixSlice.copy(this.matrix);this.radius=d.radius}.bind(this)).onComplete(function(){this.isTweening=!1;this.position.set(this.addressX.multiply(this.size+d.radius)+0.2,this.addressY.multiply(this.size+d.radius)+0.2,this.addressZ.multiply(this.size+d.radius)+0.2);this.updateMatrix();this.matrixSlice.copy(this.matrix);this.radius=d.radius;b instanceof Function&&b()}.bind(this)).start(this.cube.time)}}});ERNO.Group=function(){this.cubelets=[];this.add(Array.prototype.slice.call(arguments))};ERNO.extend(ERNO.Group.prototype,THREE.EventDispatcher.prototype);
ERNO.extend(ERNO.Group.prototype,{add:function(){var a=this;Array.prototype.slice.call(arguments).forEach(function(b){b instanceof ERNO.Group&&(b=b.cubelets);b instanceof Array?a.add.apply(a,b):a.cubelets.push(b)});return this},remove:function(a){a instanceof ERNO.Group&&(a=a.cubelets);if(a instanceof Array){var b=this;a.forEach(function(a){b.remove(a)})}for(var c=this.cubelets.length;0<c--;)this.cubelets[c]===a&&this.cubelets.splice(c,1);return 0="==b[d]?(b[d]=1,c++):b[d]++});return" 1="==c?!0:!1}console.warn(" a"="" this},isflagged:function(a){var="" b="0;this.cubelets.forEach(function(c){b+=" c[a]?1:0});return="" b},istweening:function(){return="" this.isflagged("istweening")},isengagedx:function(){return="" this.isflagged("isengagedx")},isengagedy:function(){return="" this.isflagged("isengagedy")},isengagedz:function(){return="" this.isflagged("isengagedz")},isengaged:function(){return="" this.isengagedx()+this.isengagedy()+this.isengagedz()},hasproperty:function(a,b){var="" c="new" erno.group;this.cubelets.foreach(function(d){d[a]="==b&&c.add(d)});return" c},hasid:function(a){return="" this.hasproperty("id",a)},="" hasaddress:function(a){return="" this.hasproperty("address",a)},hastype:function(a){return="" this.hasproperty("type",a)},hascolor:function(a){var="" erno.group;this.cubelets.foreach(function(c){c.hascolor(a)&&b.add(c)});return="" b},hascolors:function(){var="" a="new" erno.group,b="Array.prototype.slice.call(arguments);this.cubelets.forEach(function(c){c.hasColors.apply(c,b)&&a.add(c)});return" a},issolved:function(a){if(a){var="" instanceof="" erno.direction&&(a="a.name);this.cubelets.forEach(function(d){d=" d[a].color.name;void="" face="" [string="" or="" erno.controls]="" argument="" must="" be="" specified="" when="" using="" erno.group.issolved().");return!1},show:function(){this.cubelets.foreach(function(a){a.show()});return="" this},hide:function(){this.cubelets.foreach(function(a){a.hide()});return="" this},showplastics:function(){this.cubelets.foreach(function(a){a.showplastics()});return="" this},hideplastics:function(){this.cubelets.foreach(function(a){a.hideplastics()});="" return="" this},showextroverts:function(){this.cubelets.foreach(function(a){a.showextroverts()});return="" this},hideextroverts:function(){this.cubelets.foreach(function(a){a.hideextroverts()});return="" this},showintroverts:function(a,b){this.cubelets.foreach(function(c){c.showintroverts(a,b)});return="" this},hideintroverts:function(a,b){this.cubelets.foreach(function(c){c.hideintroverts(a,b)});return="" this},showstickers:function(){this.cubelets.foreach(function(a){a.showstickers()});return="" this},hidestickers:function(){this.cubelets.foreach(function(a){a.hidestickers()});="" this},showwireframes:function(){this.cubelets.foreach(function(a){a.showwireframes()});return="" this},hidewireframes:function(){this.cubelets.foreach(function(a){a.hidewireframes()});return="" this},showids:function(){this.cubelets.foreach(function(a){a.showids()});return="" this},hideids:function(){this.cubelets.foreach(function(a){a.hideids()});return="" this},showtexts:function(){this.cubelets.foreach(function(a){a.showtexts()});return="" this},hidetexts:function(){this.cubelets.foreach(function(a){a.hidetexts()});="" this},getopacity:function(){var="" this.cubelets.length},setopacity:function(a,b){this.cubelets.foreach(function(c){c.setopacity(a,b)});return="" this},getradius:function(){var="" this.cubelets.length},setradius:function(a,b){this.cubelets.foreach(function(c){c.setradius(a,b)});return="" this}});erno.slice="function(a,b){this.axis=new" three.vector3;this.invertedaxis="new" three.vector3;this.matrix="new" three.matrix4;this.axis.rotation="0;this.indices=a;this.neighbour=null;this.ableToHideInternalFaces=!0;this.cube=b;this.getCubelet=function(c){return" b.cubelets[a[c]]};this.rotategroupmappingonaxis="function(){var" three.vector3,d="new" three.vector3(1,1,1),e="new" three.vector3,f="new" three.vector3,h="new" three.matrix4,g;return="" function(m){m="Math.round(m/(0.25*Math.PI))*Math.PI*0.25;c.copy(d);c.sub(this.axis);" var="" s="b.cubelets.slice();h.makeRotationAxis(this.axis,-1*m);for(var" q="a.length,p;0<q--;)p=b.cubelets[a[q]],e.set(p.addressX,p.addressY,p.addressZ),f.copy(e),e.multiply(c).applyMatrix4(h),e.x=Math.round(e.x),e.y=Math.round(e.y),e.z=Math.round(e.z),e.add(f.multiply(this.axis)),e.add(d),e.y=2-e.y,e.z=2-e.z,b.cubelets[p.address]=s[9*e.z+3*e.y+e.x];for(q=0;q<b.cubelets.length;q++)b.cubelets[q].setAddress(q);h.makeRotationAxis(this.axis,m);this.cubelets.forEach(function(a){g=[];a.faces.forEach(function(a," b){e.copy(erno.direction.getdirectionbyname(a.normal).normal);e.applymatrix4(h);g[erno.direction.getdirectionbynormal(e).id]="a;a.normal=ERNO.Direction.getDirectionByNormal(e).name});a.faces=g.slice();a.front=a.faces[0];a.up=a.faces[1];a.right=a.faces[2];a.down=a.faces[3];a.left=a.faces[4];a.back=a.faces[5]})}}();this.map()};ERNO.Slice.prototype=Object.create(ERNO.Group.prototype);" erno.extend(erno.slice.prototype,{get="" origin(){return="" this.cube.cubelets[this.indices[4]]},get="" north(){return="" this.cube.cubelets[this.indices[1]]},get="" northeast(){return="" this.cube.cubelets[this.indices[2]]},get="" east(){return="" this.cube.cubelets[this.indices[5]]},get="" southeast(){return="" this.cube.cubelets[this.indices[8]]},get="" south(){return="" this.cube.cubelets[this.indices[7]]},get="" southwest(){return="" this.cube.cubelets[this.indices[6]]},get="" west(){return="" this.cube.cubelets[this.indices[3]]},get="" northwest(){return="" this.cube.cubelets[this.indices[0]]},="" get="" cubelets(){for(var="" a},map:function(a,b){for(var="">c;c++)if(this.origin.faces[c].color&&this.origin.faces[c].color!==ERNO.COLORLESS){this.color=this.origin.faces[c].color;this.face=ERNO.Direction.getNameById(c);break}if(void 0===this.axis||0===this.axis.lengthSq()){var c=this.northEast.position.clone(),d=this.southWest.position.clone(),e=this.northWest.position.clone();this.axis=(new THREE.Vector3).crossVectors(d.sub(c),e.sub(c)).normalize();
this.axis.rotation=0}this.up=new ERNO.Group(this.northWest,this.north,this.northEast);this.equator=new ERNO.Group(this.west,this.origin,this.east);this.down=new ERNO.Group(this.southWest,this.south,this.southEast);this.left=new ERNO.Group(this.northWest,this.west,this.southWest);this.middle=new ERNO.Group(this.north,this.origin,this.south);this.right=new ERNO.Group(this.northEast,this.east,this.southEast);(c=this.hasType("center"))&&1===c.cubelets.length?(this.center=this.hasType("center"),this.corners=
new ERNO.Group(this.hasType("corner")),this.cross=new ERNO.Group(this.center,this.hasType("edge")),this.ex=new ERNO.Group(this.center,this.hasType("corner"))):this.centers=new ERNO.Group(this.hasType("center"));this.edges=new ERNO.Group(this.hasType("edge"));this.ring=new ERNO.Group(this.northWest,this.north,this.northEast,this.west,this.east,this.southWest,this.south,this.southEast);this.dexter=new ERNO.Group(this.northWest,this.origin,this.southEast);this.sinister=new ERNO.Group(this.northEast,
this.origin,this.southWest);return this},set rotation(a){if(this.ableToHideInternalFaces&&0!==this.cube.isFlagged("showingIntroverts")&&this.cube.hideInvisibleFaces){var b=0!==a%(0.5*Math.PI);this.invertedAxis.copy(this.axis).negate();b?this.neighbour?(this.showIntroverts(this.axis,!0),this.neighbour.showIntroverts(this.invertedAxis,!0)):(this.cube.showIntroverts(this.axis,!0),this.cube.showIntroverts(this.invertedAxis,!0)):this.neighbour?(this.hideIntroverts(null,!0),this.neighbour.hideIntroverts(null,
!0)):this.cube.hideIntroverts(null,!0)}this.matrix.makeRotationAxis(this.axis,a);this.axis.rotation=a;a=this.indices.length;for(var c=new THREE.Matrix4;a--;)b=this.getCubelet(a),b.matrix.multiplyMatrices(this.matrix,b.matrixSlice),b.position.setFromMatrixPosition(b.matrix),b.scale.setFromMatrixScale(b.matrix),c.extractRotation(b.matrix),b.quaternion.setFromRotationMatrix(c)},get rotation(){return this.axis.rotation},getLocation:function(a){return a===this.origin?"origin":a===this.north?"north":a===
this.northEast?"northEast":a===this.east?"east":a===this.southEast?"southEast":a===this.south?"south":a===this.southWest?"southWest":a===this.west?"west":a===this.northWest?"northWest":!1},isSolved:function(a){if(a){var b={},c,d=this.indices.length,e=0;a instanceof ERNO.Direction&&(a=a.name);for(;0<d--;)c=this.getcubelet(d),c=c[a].color.name,void 0="==b[c]?(b[c]=1,e++):b[c]++;return" 1="==e?!0:!1}console.warn(" a"="" face="" [string="" or="" erno.controls]="" argument="" must="" be="" specified="" when="" using="" erno.group.issolved().");="" return!1}});erno.fold="function(a,b){this.map=[a.northWest[a.face].text,a.north[a.face].text,a.northEast[a.face].text,b.northWest[b.face].text,b.north[b.face].text,b.northEast[b.face].text,a.west[a.face].text,a.origin[a.face].text,a.east[a.face].text,b.west[b.face].text,b.origin[b.face].text,b.east[b.face].text,a.southWest[a.face].text,a.south[a.face].text,a.southEast[a.face].text,b.southWest[b.face].text,b.south[b.face].text,b.southEast[b.face].text]};" erno.fold.prototype.gettext="function(){var" a="" ;this.map.foreach(function(b){a+="b.innerHTML});return" a};erno.fold.prototype.settext="function(a){var" b;a="a.justifyLeft(18);for(b=0;18">b;b++)this.map[b].innerHTML=a.substr(b,1)};ERNO.Projector=function(){return function(a,b){function c(a,b){l.getInverse(b.projectionMatrix);f.multiplyMatrices(b.matrixWorld,l);return a.applyProjection(f)}function d(d,f,l){var t=b,k=t!==document?t.getBoundingClientRect():{left:0,top:0,width:window.innerWidth,height:window.innerHeight};t!==document&&(t=t.ownerDocument.documentElement,k.left+=window.pageXOffset-t.clientLeft,k.top+=window.pageYOffset-t.clientTop);e=k;g.x=(f-e.left)/e.width*2-1;g.y=(l-e.top)/e.height*-2+1;g.z=-1;m.set(g.x,g.y,1);
c(g,d);c(m,d);m.sub(g).normalize();q.set(g,m);h.getInverse(a.matrixWorld);q.applyMatrix4(h);return q}var e,f=new THREE.Matrix4,h=new THREE.Matrix4,g=new THREE.Vector3,m=new THREE.Vector3(1,1,1),s=new THREE.Vector3,q=new THREE.Ray,p=new THREE.Box3,k=new THREE.Sphere,l=new THREE.Matrix4,u=g.distanceTo(m);p.min.set(0.5*-a.size,0.5*-a.size,0.5*-a.size);p.max.set(0.5*a.size,0.5*a.size,0.5*a.size);k.radius=u*a.size*0.5;return{getIntersection:function(b,c,e,f,g){f=f||new THREE.Vector3;if(null===c||null===
e)return null;d(b,c,e);return q.isIntersectionSphere(k)&&null!==q.intersectBox(p,f)?(g&&(b=s||new THREE.Vector3,b.copy(f).set(Math.round(b.x),Math.round(b.y),Math.round(b.z)).multiplyScalar(2/a.size).set(b.x|0,b.y|0,b.z|0),g.setFromNormalAndCoplanarPoint(s,f)),f):null},getIntersectionOnPlane:function(a,b,c,e,f){if(null===b||null===c)return null;d(a,b,c);return q.intersectPlane(e,f)},getCubeletAtIntersection:function(){var b=new THREE.Vector3;return function(c){b.copy(c).add(p.max).multiplyScalar(3/
a.size).set(Math.min(b.x|0,2),Math.min(3-b.y|0,2),Math.min(3-b.z|0,2));return a.cubelets[9*b.z+3*b.y+b.x]}}()}}}();ERNO.Interaction=function(){return function(a,b,c,d,e){function f(e){v.enabled&&2!==e.button&&(l=(e.touches&&e.touches[0]||e).clientX,u=(e.touches&&e.touches[0]||e).clientY,m.getIntersection(b,l,u,s,w)&&(null!==e.touches&&e.preventDefault(),0===a.isTweening()&&(E="undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),v.active=!0,q=m.getCubeletAtIntersection(s),p=[a.slices[q.addressX+1],a.slices[q.addressY+4],a.slices[q.addressZ+
7]],c.addEventListener("mousemove",h),c.addEventListener("touchmove",h),c.addEventListener("mouseup",g),c.addEventListener("touchcancel",g),c.addEventListener("touchend",g),c.removeEventListener("mousedown",f),c.removeEventListener("touchstart",f))))}function h(a){v.active&&(x.x=(a.touches&&a.touches[0]||a).clientX,x.y=(a.touches&&a.touches[0]||a).clientY);v.enabled&&(a.preventDefault(),a.stopImmediatePropagation())}function g(b){var e=(b.touches&&b.touches[0]||b).clientX,d=(b.touches&&b.touches[0]||
b).clientY;v.active=!1;v.enabled&&(e!==u||d!==u)&&n&&(null!==b.touches&&b.preventDefault(),b=k.name[0].toUpperCase(),e=Math.round(C/Math.PI*2)*Math.PI*0.5,0.3<t.length() 0="==a&&(a=1);if(a!==this.opacity){var" (("undefined"!="=typeof" window&&void="" 0!="=window.performance&&void" erno.twist(b,e.radianstodegrees())));e="0;x.x=void" 0;x.y="void" 0;n="!1;k=null;c.removeEventListener(" mousemove","="" h);c.removeeventlistener("touchmove",h);c.removeeventlistener("mouseup",g);c.removeeventlistener("touchend",g);c.removeeventlistener("touchcancel",g);c.addeventlistener("mousedown",f);c.addeventlistener("touchstart",f)}var="" m="new" erno.projector(a,c),s="new" three.vector3,q,p,k,l,u,a="new" three.vector3,n="!1,w=new" three.plane,t="new" three.vector3,d="new" three.vector3,x="new" three.vector2;new="" three.vector3;var="" r="new" three.vector3,c="0,E=0;x.x=void" 0;var="" v="{active:!1,enabled:!0,multiDrag:e||!1,multiDragSnapArea:100," dragspeed:d||1.3};three.eventdispatcher.prototype.apply(v);v.getintersectionat="function(){var" a="new" three.plane;return="" function(e,d){return="" null="==m.getIntersection(b,e,d,a,c)?null:{cubelet:m.getCubeletAtIntersection(a),face:1===c.normal.x?" right":-1="==c.normal.x?"LEFT":1===c.normal.y?"UP":-1===c.normal.y?"DOWN":1===c.normal.z?"FRONT":"BACK"}}}();v.update=function(){var"" c="x.x,e=x.y;v.enabled&&v.active&&void" t.subvectors(a,s),!n&&5<t.length()&&(k&&(k.rotation="0),n=!0,r.crossVectors(w.normal,t),c=Math.max(Math.abs(r.x),Math.abs(r.y),Math.abs(r.z)),r.x=r.x/c|0,r.y=1===r.x?0:r.y/c|0,r.z=1===r.x||1===r.y?0:r.z/c|0,k=p[Math.abs(3*r.z+2*r.y+r.x)-1],D.crossVectors(k.axis,w.normal).normalize()),n&&(t.subVectors(A,s),C=D.dot(t)/a.size*v.dragSpeed),k&&(k.rotation=C))};c.addEventListener(" mousedown",f);c.addeventlistener("touchstart",f);var"="" f="function(a,b){var" c?(this.dispatchevent(new="" customevent("click",="" {detail:c})),!0):!1}.bind(v),y,z;c.addeventlistener("mousedown",function(a){y="a.clientX;z=a.clientY});c.addEventListener(" mouseup",function(a){var"="" b="a.clientX;a=a.clientY;!n&&Math.abs(Math.sqrt((b-y)*(b-y)+(a-z)*(a-z)))<10*(window.devicePixelratio||1)&&F(y,z)});c.addEventListener(" touchstart",function(a){y="a.touches[0].clientX;z=a.touches[0].clientY});c.addEventListener("touchend",function(a){var"" (c-z)))<10*(window.devicepixelratio||1)&&f(y,z)&&a.preventdefault()});return="" v}}();erno.controls="function(){var" a,b;a="0;b=1;return" function(c,d,e){function="" f(b){n.enabled&&1="==b.which&&null===A.getIntersection(d,b.pageX,b.pageY)&&(p=a,k.multiplyScalar(0),w(b.pageX,b.pageY,l),u.copy(l),n.domElement.removeEventListener(" mousedown",f),document.addeventlistener("mousemove",h),document.addeventlistener("mouseup",g))}function"="" h(b){n.enabled&&(b.preventdefault(),p="a,w(b.pageX,b.pageY,l),k.subVectors(l,u),u.copy(l))}function" g(a){document.removeeventlistener("mousemove",h);document.removeeventlistener("mouseup",="" g);n.domelement.addeventlistener("mousedown",f);n.enabled&&(p="b)}function" m(b){n.enabled&&null="==A.getIntersection(d,b.touches[0].pageX,b.touches[0].pageY)&&(p=a,k.multiplyScalar(0),w(b.touches[0].pageX,b.touches[0].pageY,l),u.copy(l),n.domElement.removeEventListener(" touchstart",m),document.addeventlistener("touchend",q),document.addeventlistener("touchmove",s))}function"="" s(b){n.enabled&&(p="a,w(b.changedTouches[0].pageX,b.changedTouches[0].pageY,l),k.subVectors(l,u),u.copy(l))}function" q(a){document.removeeventlistener("touchend",="" q);document.removeeventlistener("touchmove",s);n.domelement.addeventlistener("touchstart",m);n.enabled&&(p="b)}var" p="-1,k=new" three.vector2,l="new" three.vector2;var="" u="new" three.vector2,a="new" erno.projector(c,e),n="{enabled:!0,domElement:e,rotationSpeed:4,damping:0.25},w=function(a,b,c){var" e;e="n.domElement;e=e!==document?e.getBoundingClientRect():{left:0,top:0,width:window.innerWidth,height:window.innerHeight};var" d="window.devicePixelRatio||1;return" c.set(0.001*(a*d-e.width-e.left),="" 0.001*(e.height+e.top-b*d))};n.update="function(){var" e="new" three.vector3,f="0,g=new" three.matrix4;return="" function(){!1!="=n.enabled&&-1!==p&&(e.set(k.y,-1*k.x,0).normalize(),g.getInverse(c.matrixWorld),g.multiply(d.matrixWorld),e.transformDirection(g),k.multiplyScalar(1-Math.max(0,Math.min(1,n.damping))),f=k.length(),c.object3D.rotateOnAxis(e,-f*n.rotationSpeed),p===a?p=-1:p===b&&1E-4<=f?l.add(k):p=-1)}}();n.domElement.addEventListener(" mousedown",f);n.domelement.addeventlistener("touchstart",m);return"="" n}}();var="" scenetype="THREE.Scene;THREE.Scene=SceneType||function(){};ERNO.renderers=ERNO.renderers||{};" erno.renderers.css3d="function(a,b){function" c(a){a.style.display="block" }function="" d(a){a.style.display="none" e(){return="" array.prototype.slice.call(h.domelement.queryselectorall(".facelabel"))}function="" f(){if(b.domelement.parentnode){var="" h="new" three.css3drenderer,="" g="new" three.object3d;h.scene="g;g.add(b.autoRotateObj3D);g.add(b.camera);var" m;new="" three.vector3;b.faces.foreach(function(a,c){m="b[a.face].label=new" three.css3dobject(document.createelement("div"));m.element.classlist.add("facelabel");m.position.copy(a.axis).multiplyscalar(b.size);m.position.negate();m.element.innerhtml="a.face.toUpperCase();b.object3D.add(m)});b.right.label.rotation.y=0.5*Math.PI;b.left.label.rotation.y=-0.5*Math.PI;b.back.label.rotation.y=Math.PI;b.up.label.rotation.x=-0.5*Math.PI;" b.down.label.rotation.x="0.5*Math.PI;b.showFaceLabels=function(){e().forEach(c);this.showingFaceLabels=!0;return" this};b.hidefacelabels="function(){e().forEach(d);this.showingFaceLabels=!1;return" this};erno.extend(erno.cubelet.prototype,erno.renderers.css3dcubelet.methods);a.foreach(erno.renderers.css3dcubelet);requestanimationframe(f);scenetype&&(three.scene="SceneType);return" h};="" erno.renderers.css3dcubelet="function(){return" function(a){var="" three.css3dobject(b);a.css3dobject.name="css3DObject-" +a.id;a.add(a.css3dobject);var="" 0deg="" )="" translatez(="" "+b+"px="" rotatez(="" )","rotatex(="" 90deg="" )","rotatey(="" -90deg="" )",="" "rotatey(="" 180deg="" )"],d="axisZ axisY axisX axisY axisX axisZ" .split("="" ");a.faces.foreach(function(b){b.element="document.createElement(" div");b.element.classlist.add("face");b.element.classlist.add(d[b.id]);b.element.classlist.add("face"+erno.direction.getnamebyid(b.id).capitalize());a.css3dobject.element.appendchild(b.element);var"="" b.element.appendchild(f),a.isstickercubelet&&f.classlist.add("stickerlogo"),f="document.createElement(" div"),f.classlist.add("text"),f.innertext="b.id,b.text=f,b.element.appendChild(f))});a.show();a.showIntroverts();a.showPlastics();a.showStickers();a.hideIds();a.hideTexts();a.hideWireframes()}}();"" erno.renderers.css3dcubelet.methods="function(){function" a(a){a.style.display="block" b(a){a.style.display="none" }return{getfaceelements:function(a){return="" array.prototype.slice.call(this.css3dobject.element.queryselectorall(".face"+(a||"")))},show:function(){a(this.css3dobject.element);this.showing="!0},hide:function(){b(this.css3DObject.element);this.showing=!1},showExtroverts:function(){this.getFaceElements(" .faceextroverted").foreach(a);this.showingextroverts="!0},hideExtroverts:function(){this.getFaceElements(".faceExtroverted").forEach(b);"" this.showingextroverts="!1},showIntroverts:function(){var" three.matrix4,e;return="" function(f,h){e="" ;f&&(d.getinverse(this.matrix),b.copy(f).transformdirection(d),e="1===Math.abs(Math.round(b.x))?" .axisx":1="==Math.round(Math.abs(b.y))?".axisY":".axisZ");this.getFaceElements(".faceIntroverted"+(void"" ;f&&(d.getinverse(this.matrix),="" a.copy(f).transformdirection(d),e="1===Math.abs(Math.round(a.x))?" .sticker").foreach(b);="" this.showingstickers="!1},showStickers:function(){this.getFaceElements(" "="" .sticker").foreach(a);this.showingstickers="!0},showWireframes:function(){this.getFaceElements(" .wireframe").foreach(a);this.showingwireframes="!0},hideWireframes:function(){this.getFaceElements(" .wireframe").foreach(b);this.showingwireframes="!1},showIds:function(){this.getFaceElements(" .id").foreach(a);this.showingids="!0},hideIds:function(){this.getFaceElements(" .id").foreach(b);this.showingids="!1},showTexts:function(){this.getFaceElements(" .text").foreach(a);="" this.showingtexts="!0},hideTexts:function(){this.getFaceElements(" .text").foreach(b);this.showingtexts="!1},getOpacity:function(){return" this.opacity},setopacity:function(a,b){this.opacitytween&&this.opacitytween.stop();void="" tween.tween({opacity:this.opacity})).to({opacity:a},f).easing(tween.easing.quadratic.inout).onupdate(function(){e.css3dobject.element.style.opacity="this.opacity;e.opacity=" this.opacity}).oncomplete(function(){b="" instanceof="" function&&b()}).start()}},getstickersopacity:function(a){return="" parsefloat(this.getfaceelements("="" .sticker")[0].style.opacity)},setstickersopacity:function(a){void="" .sticker").foreach(function(a){a.style.opacity="b.toString()})}}}();ERNO.Cube=function(a){ERNO.Group.call(this);a=a||{};this.paused=void" this.finalshuffle="null;this.hideInvisibleFaces=void" erno.queue;this.twistqueue="new" erno.queue(erno.twist.validate);this.historyqueue="new" erno.queue(erno.twist.validate);this.twistduration="void" three.perspectivecamera(35,window.innerwidth="" window.innerheight,="" 1,6e3);this.camera.position.z="4*this.size;this.object3D=new" three.object3d;this.autorotateobj3d="new" three.object3d;this.rotation="this.object3D.rotation;this.quaternion=this.object3D.quaternion;this.position=this.object3D.position;this.matrix=this.object3D.matrix;this.matrixWorld=this.object3D.matrixWorld;this.rotation.set(25*Math.PI/180,-30*Math.PI/180,0);this.rotationDelta=new" three.euler(0.1*math.pi="" 180,0.15*math.pi="" 180,0);this.cubelets="[];[[W,O,,,G],[W,O,,,,],[W,O,B,,,],[W,,,,G],[W,,,,,],[W,,B," ,,],[w,,,r,g],[w,,,r,,],[w,,b,r,,],[,o,,,g],[,o,,,,],[,o,b,,,],[,,,,g],[,,,,,],[,,b,,,],[,,,r,g],[,,,r,,],[,,b,r,,],[,o,,,g,y],[,o,,,,y],[,o,b,,,y],[,,,,g,y],[,,,,,y],[,,b,,,y],[,,,r,g,y],[,,,r,,y],[,,b,r,,y]].foreach(function(a,b){this.cubelets.push(new="" erno.cubelet(this,b,a))}.bind(this));this.core="new" erno.group;this.centers="new" erno.group;this.edges="new" erno.group;this.corners="new" erno.group;this.crosses="new" erno.group;this.cubelets.foreach(function(a,b){"core"="==a.type&&this.core.add(a);" center"="=="" a.type&&this.centers.add(a);"edge"="==a.type&&this.edges.add(a);" corner"="==a.type&&this.corners.add(a);"center"!==a.type&&"edge"!==a.type||this.crosses.add(a)}.bind(this));this.left=new"" erno.slice([24,21,18,15,12,9,6,3,0],this);this.left.name="left" ;this.middle="new" erno.slice([25,22,19,16,13,10,7,4,1],this);this.middle.name="middle" ;this.right="new" erno.slice([2,11,20,5,14,23,8,17,26],this);this.right.name="right" ;this.right.neighbour="this.middle;this.left.neighbour=this.middle;this.up=new" erno.slice([18,="" 19,20,9,10,11,0,1,2],this);this.up.name="up" ;this.equator="new" erno.slice([21,22,23,12,13,14,3,4,5],this);this.equator.name="equator" ;this.down="new" erno.slice([8,17,26,7,16,25,6,15,24],this);this.down.name="down" ;this.down.neighbour="this.equator;this.up.neighbour=this.equator;this.front=new" erno.slice([0,1,2,3,4,5,6,7,8],this);this.front.name="front" ;this.standing="new" erno.slice([9,10,11,12,13,14,15,16,17],this);this.standing.name="standing" ;this.back="new" erno.slice([26,23,20,25,22,19,24,21,18],this);="" this.back.name="back" ;this.back.neighbour="this.standing;this.front.neighbour=this.standing;this.faces=[this.front,this.up,this.right,this.down,this.left,this.back];this.slices=[this.left,this.middle,this.right,this.down,this.equator,this.up,this.back,this.standing,this.front];var" customevent("ontwistcomplete",{detail:{slice:a.target}}))}.bind(this);this.slices.foreach(function(a){a.addeventlistener("change",c)});var="" 17,18,19,20,21,22,23,24,25,26];this.slicesdictionary="{f:this.front,s:this.standing,b:this.back,u:this.up,e:this.equator,d:this.down,r:this.right,m:this.middle,l:this.left,x:new" erno.slice(d,this),y:new="" erno.slice(d,this),z:new="" erno.slice(d,this)};this.slicesdictionary.x.abletohideinternalfaces="!1;this.slicesDictionary.y.ableToHideInternalFaces=!1;this.slicesDictionary.z.ableToHideInternalFaces=!1;this.slicesDictionary.x.axis.set(-1,0,0);this.slicesDictionary.y.axis.set(0,-1,0);this.slicesDictionary.z.axis.set(0," 0,-1);this.cubelets.foreach(function(a,b){a.setaddress(b)});this.renderer="b(this.cubelets,this);this.domElement=this.renderer.domElement;this.domElement.classList.add(" cube");this.domelement.style.fontsize="this.cubeletSize+"px";this.autoRotateObj3D.add(this.object3D);this.hideInvisibleFaces&&this.hideIntroverts(null,!0);this.mouseInteraction=new"" erno.interaction(this,this.camera,this.domelement);this.mouseinteraction.addeventlistener("click",function(a){this.dispatchevent(new="" {detail:a.detail}))}.bind(this));this.controls="new" (a.controls||erno.controls)(this,this.camera,this.domelement);this.folds="[new" erno.fold(this.front,this.right),new="" erno.fold(this.left,this.up),new="" erno.fold(this.down,this.back)];this.setsize(400,200);this.loop="this.loop.bind(this);requestAnimationFrame(this.loop);document.addEventListener(" keypress",function(a){"input"!="=a.target.tagName.toLowerCase()&&"textarea"!==a.target.tagName.toLowerCase()&&!this.mouseInteraction.active&&this.keyboardControlsEnabled&&"" (a="String.fromCharCode(a.which),0<=" xxrrmmllyyuueeddzzffssbb".indexof(a)&&this.twist(a))}.bind(this))};erno.cube.prototype="Object.create(ERNO.Group.prototype);ERNO.Cube.prototype.constructor=ERNO.Cube;"" erno.extend(erno.cube.prototype,{shuffle:function(a,b){a="a||30;b=b||" ";var"="" erno.twist,f,h="b.length,g=0;this.twistQueue.empty(!0);for(this.historyQueue.empty(!0);0<a--;){if(b)d.set(b[g]),g=(g+1)%h;else" for(f="c.split(" "),d="(new"" erno.twist).copy(e);d.equals(e);)d.set(f.splice(math.floor(math.random()*f.length),1)[0]);d.isshuffle="!0;this.twist(d);e=d.getInverse()}this.finalShuffle=d},solve:function(){this.isSolving=!0},isSolved:function(){return" this.front.issolved(erno.direction.front)&&="" this.up.issolved(erno.direction.up)&&this.right.issolved(erno.direction.right)&&this.down.issolved(erno.direction.down)&&this.left.issolved(erno.direction.left)&&this.back.issolved(erno.direction.back)},undo:function(){0<this.twistqueue.history.length&&(this.historyqueue.add(this.twistqueue.undo().getinverse()),this.undoing="!0)},redo:function(){0<this.twistQueue.future.length&&(this.undoing=!0,this.historyQueue.empty(),this.historyQueue.add(this.twistQueue.redo()))},twist:function(a){this.undoing&&" this.twistqueue.empty();this.historyqueue.empty();this.undoing="!1;this.twistQueue.add(a)},immediateTwist:function(a){0.8<=this.verbosity&&console.log(" executing"="" twist="" command="" to="" rotate="" the="" "+a.group+"="" "+a.wise+"="" by",a.degrees,"degrees.");for(var="" tween.tween(b)).to({rotation:d},="" e).easing(tween.easing.quartic.out).oncomplete(function(){b.rotation="d;b.axis.rotation=0;for(f=b.indices.length;0<f--;)h=b.getCubelet(f),h.isTweening=!1,h.updateMatrix(),h.matrixSlice.copy(h.matrix);0!==c&&(b.rotateGroupMappingOnAxis(d),this.dispatchEvent(new" customevent("ontwistcomplete",{detail:{slice:b,twist:a}})));a="==this.finalShuffle&&(this.finalShuffle=null,this.dispatchEvent(new" customevent("onshufflecomplete",{detail:{slice:b,twist:a}})))}.bind(this)).start(this.time)},gettext:function(a){if(void="" a)return[this.folds[0].gettext(),this.folds[1].gettext(),this.folds[2].gettext()];if(_.isnumeric(a)&&0<="a&&2">=a)return this.folds[a].getText()},setText:function(a,b){void 0===b?(this.folds[0].setText(a),this.folds[1].setText(a),this.folds[2].setText(a)):_.isNumeric(b)&&0<=b&&2>=b&&this.folds[b].setText(a)},setSize:function(a,b){this.camera.aspect=a/b;this.camera.updateProjectionMatrix();this.renderer.setSize(a,b)},PRESERVE_LOGO:"RrLlUuDdSsBb",ALL_SLICES:"RrMmLlUuEeDdFfSsBb",EVERYTHING:"XxRrMmLlYyUuEeDdZzFfSsBb",
loop:function(){var a=0;return function(){requestAnimationFrame(this.loop);var b="undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),c=b-(a||b);a=b;this.paused||(this.time+=c,TWEEN.update(this.time),this.autoRotate&&(this.rotation.x+=this.rotationDelta.x,this.rotation.y+=this.rotationDelta.y,this.rotation.z+=this.rotationDelta.z),this.isReady&&0===this.isTweening()&&(b=this.undoing?this.historyQueue:this.twistQueue,0===b.future.length?
this.isSolving&&window.solver?this.isSolving=window.solver.consider(this):!0===this.taskQueue.isReady&&(b=this.taskQueue.do(),b instanceof Function&&b()):(c=b.do(),"x"!==c.command.toLowerCase()&&"y"!==c.command.toLowerCase()&&"z"!==c.command.toLowerCase()&&0!==c.degrees&&(this.moveCounter+=this.undoing?-1:1),(0===c.degrees||c.isShuffle)&&b.purge(c),this.immediateTwist(c))),this.mouseInteraction.enabled=this.mouseControlsEnabled&&!this.finalShuffle,this.mouseInteraction.update(),this.controls.enabled=
this.mouseControlsEnabled&&!this.mouseInteraction.active,this.controls.update())}}()});ERNO.Solver=function(){this.logic=function(a){return!1}};ERNO.Solver.prototype.consider=function(a){if(void 0===a)return console.warn("A cube [Cube] argument must be specified for Solver.consider()."),!1;if(!1===a instanceof ERNO.Cube)return console.warn("The cube argument provided is not a valid Cube."),!1;a.isShuffling=!1;return a.isSolved()?(ERNO.Solver.prototype.explain("I\u2019ve found that the cube is already solved."),!1):this.logic(a)};
ERNO.Solver.prototype.hint=function(a){console.log("%c"+a+"%c\n","background-color: #EEE; color: #333","")};ERNO.Solver.prototype.explain=function(a){console.log("Solver says: %c "+a+" %c\n","color: #080","")};
 window.ERNO = ERNO;
 window._ = _;
 window.TWEEN = window.TWEEN || TWEEN;
 window.THREE = window.THREE || THREE;
}())
</=b&&2></t.length()></d--;)c=this.getcubelet(d),c=c[a].color.name,void></c--;)this.cubelets[c]===a&&this.cubelets.splice(c,1);return></a.length;c++)if(b=a[c],d=c+1<a.length?a[c+1]:void></this.length;b++)d=this[b]instanceof></arguments.length&&(a=array.prototype.slice.call(arguments));if(this.length===a.length){for(b=0;b<this.length;b++)c+=math.pow(a[b]-this[b],2);return></a;)b+="></a)for(;a--;)c+="></d;c++)s(a.children[c],b)};this.render=function(a,e){var></e;d++){var>